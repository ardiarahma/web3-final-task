{"version":3,"sources":["views/Pages/Login/Login.js"],"names":["Login","props","onChange","e","target","name","value","setState","onSubmit","preventDefault","state","params","email","password","axios","post","then","res","data","status","localStorage","setItem","user","token","JSON","stringify","browserHistory","push","alert","message","catch","err","console","log","getItem","this","className","md","addonType","type","placeholder","autoComplete","xs","color","style","width","active","tabIndex","Component"],"mappings":"4XAKMA,E,kDACJ,WAAYC,GAAO,IAAD,8BAChB,cAAMA,IAYRC,SAAW,SAACC,GACV,IAAMC,EAASD,EAAEC,OAAOC,KAClBC,EAAQH,EAAEC,OAAOE,MACvB,EAAKC,SAAL,eACGH,EAASE,KAjBI,EAsBlBE,SAAW,SAACL,GACVA,EAAEM,iBADc,MAEY,EAAKC,MAC3BC,EAAS,CACbC,MAJc,EAERA,MAECC,SAJO,EAEDA,UAIfC,IAAMC,KAAK,yEAA0EJ,GACpFK,MAAM,SAAAC,GACkB,YAApBA,EAAIC,KAAKC,QACVC,aAAaC,QAAQ,QAASJ,EAAIC,KAAKI,KAAKC,OAC5CH,aAAaC,QAAQ,OAAQG,KAAKC,UAAUR,EAAIC,KAAKI,OACrDI,IAAeC,KAAK,eAEpBC,MAAMX,EAAIC,KAAKW,YAGlBC,OAAO,SAAAC,GACJH,MAAM,SACNI,QAAQC,IAAIF,OAtChB,EAAKrB,MAAQ,CACXE,MAAO,GACPC,SAAU,IAJI,E,gEASqB,OAAlCO,aAAac,QAAQ,UAAmBR,IAAeC,KAAK,O,+BAmCvD,IAAD,EACqBQ,KAAKzB,MAAzBE,EADD,EACCA,MAAOC,EADR,EACQA,SACf,OACE,yBAAKuB,UAAU,mCACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKA,UAAU,0BACb,kBAAC,IAAD,CAAKC,GAAG,KACN,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAMD,UAAU,OACd,kBAAC,IAAD,KACE,kBAAC,IAAD,CACE5B,SAAU2B,KAAK3B,UAEf,qCACA,uBAAG4B,UAAU,cAAb,2BACA,kBAAC,IAAD,CAAYA,UAAU,QACpB,kBAAC,IAAD,CAAiBE,UAAU,WACzB,kBAAC,IAAD,KACE,uBAAGF,UAAU,gBAGjB,kBAAC,IAAD,CACEG,KAAK,QACLC,YAAY,QACZC,aAAa,QACbpC,KAAK,QACLC,MAAOM,EACPV,SAAUiC,KAAKjC,YAGnB,kBAAC,IAAD,CAAYkC,UAAU,QACpB,kBAAC,IAAD,CAAiBE,UAAU,WACzB,kBAAC,IAAD,KACE,uBAAGF,UAAU,gBAGjB,kBAAC,IAAD,CACEG,KAAK,WACLC,YAAY,WACZC,aAAa,mBACbpC,KAAK,WACLC,MAAOO,EACPX,SAAUiC,KAAKjC,YAGnB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKwC,GAAG,KACN,kBAAC,IAAD,CACEH,KAAK,SACLI,MAAM,UACNP,UAAU,QAHZ,UAMF,kBAAC,IAAD,CAAKM,GAAG,IAAIN,UAAU,cACpB,kBAAC,IAAD,CAAQO,MAAM,OAAOP,UAAU,QAA/B,yBAMV,kBAAC,IAAD,CAAMA,UAAU,4CAA4CQ,MAAO,CAAEC,MAAO,QAC1E,kBAAC,IAAD,CAAUT,UAAU,eAClB,6BACE,iDACA,uLACE,kBAAC,IAAD,CAAQO,MAAM,UAAUP,UAAU,OAAOU,QAAM,EAACC,UAAW,GAA3D,wD,GA9GJC,aA2HLhD","file":"static/js/54.1a254d1a.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Card, CardBody, CardGroup, Col, Container, Form, Input, InputGroup, InputGroupAddon, InputGroupText, Row } from 'reactstrap';\r\nimport axios from 'axios'\r\nimport { browserHistory } from '../../../store';\r\n\r\nclass Login extends Component {\r\n  constructor(props){ \r\n    super(props)\r\n    this.state = {\r\n      email: '', \r\n      password: '',\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    if(localStorage.getItem('token') !== null) browserHistory.push(\"/\")\r\n  }\r\n\r\n  // fungsi change data \r\n  onChange = (e) => {\r\n    const target = e.target.name; \r\n    const value = e.target.value; \r\n    this.setState({\r\n      [target]: value\r\n    })\r\n  }\r\n\r\n  // fungsi buat handle submit\r\n  onSubmit = (e) => {\r\n    e.preventDefault(); \r\n    const { email, password } = this.state // deconstructuring object state\r\n    const params = {\r\n      email, password,\r\n    }\r\n    axios.post('https://cors-anywhere.herokuapp.com/http://yb-api.technow.id/api/login', params) \r\n    .then( res => {   \r\n      if(res.data.status === \"success\"){ \r\n        localStorage.setItem('token', res.data.user.token) \r\n        localStorage.setItem('user', JSON.stringify(res.data.user)) \r\n        browserHistory.push('/dashboard') \r\n      } else {\r\n        alert(res.data.message)\r\n      }\r\n    })\r\n    .catch( err => {\r\n        alert('Error')\r\n        console.log(err)\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { email, password } = this.state \r\n    return (\r\n      <div className=\"app flex-row align-items-center\">\r\n        <Container>\r\n          <Row className=\"justify-content-center\">\r\n            <Col md=\"8\">\r\n              <CardGroup>\r\n                <Card className=\"p-4\">\r\n                  <CardBody>\r\n                    <Form\r\n                      onSubmit={this.onSubmit} // hmmmmm\r\n                    >\r\n                      <h1>Login</h1>\r\n                      <p className=\"text-muted\">Sign In to your account</p>\r\n                      <InputGroup className=\"mb-3\">\r\n                        <InputGroupAddon addonType=\"prepend\">\r\n                          <InputGroupText>\r\n                            <i className=\"icon-user\"></i>\r\n                          </InputGroupText>\r\n                        </InputGroupAddon>\r\n                        <Input\r\n                          type=\"email\"\r\n                          placeholder=\"Email\"\r\n                          autoComplete=\"email\"\r\n                          name=\"email\" \r\n                          value={email} \r\n                          onChange={this.onChange} \r\n                        />\r\n                      </InputGroup>\r\n                      <InputGroup className=\"mb-4\">\r\n                        <InputGroupAddon addonType=\"prepend\">\r\n                          <InputGroupText>\r\n                            <i className=\"icon-lock\"></i>\r\n                          </InputGroupText>\r\n                        </InputGroupAddon>\r\n                        <Input\r\n                          type=\"password\"\r\n                          placeholder=\"Password\"\r\n                          autoComplete=\"current-password\"\r\n                          name=\"password\"\r\n                          value={password}\r\n                          onChange={this.onChange}\r\n                        />\r\n                      </InputGroup>\r\n                      <Row>\r\n                        <Col xs=\"6\">\r\n                          <Button\r\n                            type=\"submit\" \r\n                            color=\"primary\"\r\n                            className=\"px-4\"\r\n                          >Login</Button>\r\n                        </Col>\r\n                        <Col xs=\"6\" className=\"text-right\">\r\n                          <Button color=\"link\" className=\"px-0\">Forgot password?</Button>\r\n                        </Col>\r\n                      </Row>\r\n                    </Form>\r\n                  </CardBody>\r\n                </Card>\r\n                <Card className=\"text-white bg-primary py-5 d-md-down-none\" style={{ width: '44%' }}>\r\n                  <CardBody className=\"text-center\">\r\n                    <div>\r\n                      <h2>Online Years Book</h2>\r\n                      <p>A yearbook, also known as an annual, is a type of a book published annually. One use is to record, highlight, and commemorate the past year of a school.</p>\r\n                        <Button color=\"primary\" className=\"mt-3\" active tabIndex={-1}>Make your memory easy to access with me!</Button>\r\n                    </div>\r\n                  </CardBody>\r\n                </Card>\r\n              </CardGroup>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n"],"sourceRoot":""}